<div class="page header" style="margin-top:20px; margin-bottom: 30px">
  <h1>Sign Up</h1>
</div>

<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="email">Email</label>
    <br />
    <input
      required
      type="text"
      formControlName="email"
      class="form-control"
      [pattern]="emailRegex"
      [ngClass]="{ 'is-invalid': submitted && f.email.errors }"
      placeholder="Email"
    />
    <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
      <div *ngIf="f.email.errors.required">This field is required.</div>
      <div *ngIf="f.email.errors.pattern">Invalid email address.</div>
    </div>
  </div>

  <div class="form-group">
    <label for="username">Username</label>
    <br />
    <input
      required
      type="text"
      formControlName="username"
      class="form-control"
      [ngClass]="{ 'is-invalid': submitted && f.username.errors }"
      placeholder="Username"
    />
    <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
      <div *ngIf="f.username.errors.required">Username is required</div>
    </div>
  </div>

  <div class="form-group">
    <label for="password">Password</label>
    <br />
    <input
      required
      type="password"
      formControlName="password"
      class="form-control"
      [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
      minlength="6"
      placeholder="Password"
    />
    <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
      <div *ngIf="f.password.errors.required">Password is required</div>
      <div *ngIf="f.password.errors.minlength">
        Password must be at least 6 characters
      </div>
    </div>
  </div>

  <div class="form-group">
    <button [disabled]="loading" class="btn btn-primary">
      <span
        *ngIf="loading"
        class="spinner-border spinner-border-sm mr-1"
      ></span>
      Register
    </button>
    <a routerLink="/home" class="btn btn-link">Cancel</a>
  </div>
</form>

<!-- Confirm Password Input -->
<!-- <div class="form-group">
    <label for="confirm">Confirm Password</label>
    <div
      [ngClass]="{
        'has-error':
          (form.controls.confirm.errors && form.controls.confirm.dirty) ||
          (form.errors?.matchingPasswords && form.controls.confirm.dirty),
        'has-success':
          !form.controls.confirm.errors && !form.errors?.matchingPasswords
      }"
    >
      <input
        type="password"
        name="confirm"
        class="form-control"
        autocomplete="off"
        placeholder="*Confirm Password"
        formControlName="confirm"
      />

      <ul class="help-block">
        <li
          *ngIf="
            form.controls.confirm.errors?.required &&
            form.controls.confirm.dirty
          "
        >
          This field is required
        </li>
        <li
          *ngIf="form.errors?.matchingPasswords && form.controls.confirm.dirty"
        >
          Passwords do not match
        </li>
      </ul>
    </div>
  </div> -->

<!-- <div class="success" *ngIf="showSuccessMessage">
  Saved successfully
</div>

<br />

<div class="alert" *ngIf="serverErrorMessages">
  {{ serverErrorMessages }}
</div> -->
